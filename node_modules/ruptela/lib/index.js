function processRecord(iterator) {
  const startPosition = iterator.position;
  console.log(`[Ruptela] Iniciando parseo en posici칩n ${startPosition}`);

  // Parsear header
  const header = {
    timestamp: iterator.readNext(4),
    timestampExtension: iterator.readNext(1),
    recordExtension: iterator.readNext(1),
    priority: iterator.readNext(1),
    longitude: iterator.readNext(4),
    latitude: iterator.readNext(4),
    altitude: iterator.readNext(2),
    angle: iterator.readNext(2),
    satellites: iterator.readNext(1),
    speed: iterator.readNext(2),
    hdop: iterator.readNext(1),
    eventId: iterator.readNext(2)
  };
  console.log(`[Ruptela] Header procesado. Posici칩n actual: ${iterator.position}`);

  // Procesar cuerpo
  const ioElements = [];
  while (iterator.hasNext()) {
    const valueSize = iterator.readNext(1);
    const elementCount = iterator.readNext(1);
    console.log(`[Ruptela] IO Element - ValueSize: ${valueSize}, ElementCount: ${elementCount}`);

    if (![1, 2, 4, 8].includes(valueSize)) {
      throw new Error(`Tama침o de valor IO no soportado: ${valueSize} en posici칩n ${iterator.position - 2}`);
    }

    for (let i = 0; i < elementCount; i++) {
      const element = {
        id: iterator.readNext(2),
        value: iterator.readNext(valueSize)
      };
      ioElements.push(element);
    }
  }

  return {
    header: { ... },
    ioElements,
    rawLength: iterator.position - startPosition
  };
}